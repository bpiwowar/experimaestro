<?xml version="1.0" encoding="UTF-8"?>

<Configuration status="info" strict="true" packages="net.bpiwowar.xpm.server.rpc">

    <Appenders>
        <Appender type="Console" name="console" target="SYSTEM_ERR">
            <Layout type="PatternLayout" pattern="%highlight{%d %5p [%t] (%c{1}) %m%n}"/>
        </Appender>

        <Appender name="RPC" type="JsonWebSocket">
            <PatternLayout pattern="(%c{1}) %m"/>
            <ThreadContextMapFilter>
                <KeyValuePair key="xpm-websocket" value="1"/>
            </ThreadContextMapFilter>
        </Appender>
    </Appenders>

    <Loggers>
        <Root level="info">
            <AppenderRef ref="console"/>
            <AppenderRef ref="RPC"/>
        </Root>
    </Loggers>
</Configuration>